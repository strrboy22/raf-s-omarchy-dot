# Change the default Omarchy look'n'feel

# --- GLOBAL RULES ---
# Moved to top to prevent parsing errors
#layerrule = blur, walker
#layerrule = ignorezero, walker

# https://wiki.hyprland.org/Configuring/Variables/#general
general {
    # No gaps between windows or borders
    # gaps_in = 0
    # gaps_out = 0
    # border_size = 0
    # layout = master
}

# https://wiki.hyprland.org/Configuring/Variables/#decoration
decoration {
    rounding = 16
    active_opacity = 0.85
    inactive_opacity = 0.80

    shadow {
        enabled = true
        range = 25
        render_power = 4
        color = rgba(00000066)
    }

    blur {
        enabled = true
        size = 6
        passes = 3
        new_optimizations = true
        ignore_opacity = true
        xray = false
    }
}

# https://wiki.hypr.land/Configuring/Dwindle-Layout/
dwindle {
    # Avoid overly wide single-window layouts on wide screens
    # single_window_aspect_ratio = 1 1
}

# --- PLUGIN CONFIGURATION ---
plugin {
    # 1. HYPRBARS
    hyprbars {
        bar_height = 28
        bar_text_font = JetBrainsMono Nerd Font
        bar_text_size = 11
        bar_part_of_window = true
        bar_precedence_over_border = true
       
        bar_color = rgb(1e1e2e)
        col.text = rgb(cdd6f4)

        # Buttons
        hyprbars-button = rgba(00000000), 16, ✕, hyprctl dispatch killactive
        hyprbars-button = rgba(00000000), 16, , hyprctl dispatch fullscreen 1
        hyprbars-button = rgba(00000000), 16, ─, hyprctl dispatch movetoworkspacesilent special:scratchpad

        on_double_click = hyprctl dispatch fullscreen 1
    }

    # 2. BORDERS-PLUS-PLUS
    borders-plus-plus {
        add_borders = 0
        natural_rounding = yes
        
        # col.border_1 = rgb(1e1e2e)
        # border_size_1 = 4
        # col.border_2 = rgb(cba6f7) 
        # border_size_2 = 1
    }
}

animations {
    enabled = yes
    bezier = myCurve, 0.05, 0.9, 0.1, 1.05

    # Apply it to workspace switching
    animation = workspaces, 1, 6, myCurve, slide
}
